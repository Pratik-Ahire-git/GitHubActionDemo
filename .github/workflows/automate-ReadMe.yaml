name: Generate terraform docs

on:
  push:
    branches: [ "main" ]

jobs:
  docs:
    runs-on: ubuntu-latest  # Run the Workflow on an Ubuntu Runner

    steps:
    - uses: actions/checkout@v3 # Checkout the repository code

    - name: Install Terraform Docs
      uses: terraform-docs/gh-actions@main # Action to install terraform-docs

      with:
        working-dir: Terraform  # Specify the directory containing Terraform code
        output-file: README.md  # Update the README.md file with generated docs
        output-method: inject   # Inject the documentation into README.md
        git-push: "true"